<div class ="row">
    <h1 class = "green-text text-darken-4 center-align">Turing Machine Designer</h1>
     <div class="row valign-wrapper">
            <div class="col s6">
              <a class="waves-effect waves-light btn-large green col m8 offset-m3" id="send_btn">Process</a>
            </div>
      </div>

    <div class ="valign-wrapper">
        <canvas id="canvas" width="900" height="500" class="z-depth-5 white valign">
            <span class="error">Your browser does not support<br>the HTML5 &lt;canvas&gt; element</span>
        </canvas>
    </div>

    <div class=" z-depth-5 white white">
      <div class="cy" id="cy" style="display: none;"></div>
    </div>

    <div id="accept" style="display: none;">
      <center><h4>Accepts</h4></center>
    </div>

    <div id="reject" style="display: none;">
      <center><h4>Rejects</h4></center>
    </div>

    <div id="input" style="display: none;">
      <input id="string" type="text" name="string">
      <button class="btn" onclick="send_string()">Consume</button>
    </div>
</div>

<div class="row" id = "instructions">
  <div class="col s6, flow-text">
    <ul>
        <li>Add State: Double Click </li>
        <li>Add Transition: Shift-drag</li>
        <li>Move: Drag </li>
        <li> Delete: Click & press delete </li>
        <li>Make accept state: Double Click on existing state </li>
    </ul>
  </div>
</div>


<script type="text/javascript">
  var cy_data = null

  function send_data() {
  	$.ajax({
  		type: "POST",
  		url: '/tm/compute',
  		data: {"data": localStorage['fsm']},
  		success: function(data){

  			cy_data = data
        $("#instructions").fadeOut()
        $("#con_nfa_btn").fadeOut()
        $("#con_regex_btn").fadeOut()
  			$("#canvas").fadeOut()
  			$("#send_btn").fadeOut()
  			render_cy()
  			$("#cy").fadeIn()
  			$("#input").fadeIn()

  		},
  		error: function(err){
  			console.log(err)
  			alert('Favor coroborar que la TM este correctamente ingresado');
  		}
  	});
  }

</script>
